<!doctype html>
<html lang="">	
<head>
	<meta charset="utf-8"/>
	<title>LinkedList-Prepend in Viper - Showcasing Verification</title>	
	<meta name="author" content="Malte Schwerhoff">
	

  <meta name="description" content="A Viper encoding of a method that prepends a value to a linked list of integers. field val: Int field next: Ref predicate LinkedList(x: Ref) { acc(x.val) &amp;&amp; acc(x.next) &amp;&amp; (x.next != null ==&gt; LinkedList(x.next)) } function head(x: Ref): Int requires LinkedList(x) { unfolding LinkedList(x) in â€¦">



	<link rel="stylesheet" href="https://mschwerhoff.github.io/showcasingverification/theme/css/main.css" type="text/css" />
		


</head>
	
<body>
	
	<div class="container">
	
	<header role="banner">
		<div class="feeds">
		</div>
		<div class="home">
			<a href="https://mschwerhoff.github.io/showcasingverification">Showcasing Verification</a>
		</div>
		</header>
	
	  <div class="wrapper">

		  <div role="main" class="content">
	<article class="full">
		<h1>LinkedList-Prepend in Viper</h1>
		    <p class="tags">
          <a href="https://mschwerhoff.github.io/showcasingverification/tag/linkedlist.html">#LinkedList</a>
,           <a href="https://mschwerhoff.github.io/showcasingverification/tag/linkedlist-prepend.html">#LinkedList-Prepend</a>
,           <a href="https://mschwerhoff.github.io/showcasingverification/pages/viper.html">#Viper</a>
,           <a href="https://mschwerhoff.github.io/showcasingverification/tag/permissions.html">#Permissions</a>
    </p>

		<p>A Viper encoding of a method that prepends a value to a linked list of integers.</p>
<div class="highlight"><pre><span></span>field val: Int
field next: Ref

predicate LinkedList(x: Ref) {
  acc(x.val) &amp;&amp; acc(x.next) &amp;&amp;
  (x.next != null ==&gt; LinkedList(x.next))
}

function head(x: Ref): Int
  requires LinkedList(x)
{ unfolding LinkedList(x) in x.val }

method prepend(x: Ref, v: Int) returns (y: Ref)
  requires LinkedList(x)
  ensures LinkedList(y) &amp;&amp; head(y) == v
{
  y := new(val, next)
  y.val := v
  y.next := x
  fold LinkedList(y)
}
</pre></div>


<p>Note: <code>y := new(val, next)</code> models object initialisation by first havocing <code>y</code>
and then inhaling permissions to <code>y.val</code> and <code>y.next</code>.</p>	
	</article>

<!--
    <p>
	<a href="https://twitter.com/share" class="twitter-share-button" data-via="" data-lang="en" data-size="large" data-related="">Tweet</a>
	<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
	</p>
-->


		  </div>	
		  
		  <div class="sidebar">
		    <div class="sidebar-container" >


  	          <nav>
	            <h2>Pages</h2>
	            <ul>
	                <li >
										<a href="https://mschwerhoff.github.io/showcasingverification/pages/verifythis2016.html">VerifyThis@ETAPS'16</a>
									</li>
	                <li >
										<a href="https://mschwerhoff.github.io/showcasingverification/pages/viper.html">Viper</a>
									</li>
	            </ul>
	          </nav>


	        </div>
		  </div>

	  </div>

      <footer>
<!--				
		<p role="contentinfo">
		  Malte Schwerhoff - Proudly powered by <a href="http://alexis.notmyidea.org/pelican/">pelican</a>. Theme <a href="https://github.com/fle/pelican-sober">pelican-sober</a>.
    	</p>
-->
	  </footer>	

	</div>
	

</body>
</html>